# -*- coding: utf-8 -*-
"""streamlit run data_analysis_app

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/17ZQaIyFf63gZ7f3vfARDuMZ5JmcPm3-r
"""

import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# Set up the title of the app
st.title("End-to-End Data Analysis App")

# File upload
uploaded_file = st.file_uploader("Upload your CSV file", type=["csv"])

if uploaded_file is not None:
    # Read the data
    data = pd.read_csv(uploaded_file)

    # Display the data
    st.write("Data Preview:")
    st.write(data.head())

    # Data Cleaning
    st.subheader("Data Cleaning")
    st.write("Missing Values:")
    st.write(data.isnull().sum())
    data.dropna(inplace=True)  # Example cleaning step
    st.write("Data after cleaning:")
    st.write(data.head())

    # Descriptive Statistics
    st.subheader("Descriptive Statistics")
    st.write(data.describe())

    # Data Visualization
    st.subheader("Data Visualization")

    # Histogram
    st.subheader("Histogram")
    column = st.selectbox("Select column for histogram:", data.columns)
    plt.figure(figsize=(10, 5))
    sns.histplot(data[column], bins=30, kde=True)
    st.pyplot(plt)

    # Boxplot
    st.subheader("Boxplot")
    column = st.selectbox("Select column for boxplot:", data.columns)
    plt.figure(figsize=(10, 5))
    sns.boxplot(x=data[column])
    st.pyplot(plt)

    # Scatter plot
    st.subheader("Scatter Plot")
    x_col = st.selectbox("Select X-axis column:", data.columns)
    y_col = st.selectbox("Select Y-axis column:", data.columns)
    plt.figure(figsize=(10, 5))
    sns.scatterplot(data=data, x=x_col, y=y_col)
    st.pyplot(plt)

    # Interpretation
    st.subheader("Interpretation")
    st.write("Provide your insights based on the visualizations and statistics above.")

else:
    st.write("Please upload a CSV file to start the analysis.")